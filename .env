# üîß NextFlow Production Environment Configuration
# ============================================================================
# NEXTFLOW DOCKER ENVIRONMENT - PRODUCTION READY
# ============================================================================
# Phi√™n b·∫£n: 2.1 - T·ªëi ∆∞u h√≥a v√† chu·∫©n h√≥a
# C·∫≠p nh·∫≠t: 2025
# M·∫≠t kh·∫©u th·ªëng nh·∫•t: nextflow@2025 (ƒë·ªÉ d·ªÖ qu·∫£n l√Ω v√† ghi nh·ªõ)
# ============================================================================

# === M√îI TR∆Ø·ªúNG C∆† B·∫¢N ===
NODE_ENV=production
ENVIRONMENT=production

# === C·∫§U H√åNH C∆† S·ªû D·ªÆ LI·ªÜU CH√çNH - POSTGRESQL ===
# PostgreSQL - Database ch√≠nh cho t·∫•t c·∫£ services (tr·ª´ WordPress)
POSTGRES_USER=nextflow
POSTGRES_PASSWORD=nextflow@2025
POSTGRES_DB=nextflow
POSTGRES_PORT=5432
POSTGRES_MULTIPLE_DATABASES=nextflow_n8n,gitlabhq_production,langflow_db,nextflow_stalwart_mail

# === C·∫§U H√åNH C∆† S·ªû D·ªÆ LI·ªÜU PH·ª§ - MARIADB ===
# MariaDB - Ch·ªâ d√†nh ri√™ng cho WordPress (Landing Page)
MYSQL_ROOT_PASSWORD=nextflow@2025
MYSQL_DATABASE=nextflow_wordpress
MYSQL_USER=nextflow
MYSQL_PASSWORD=nextflow@2025

# === C·∫§U H√åNH GITLAB (VERSION 16.11.10 C·ªê ƒê·ªäNH) ===
GITLAB_VERSION=16.11.10-ce.0
GITLAB_EXTERNAL_URL=http://localhost:8088
GITLAB_REGISTRY_URL=http://localhost:5050
GITLAB_ROOT_USERNAME=root
GITLAB_ROOT_PASSWORD=Nex!tFlow@2025!
GITLAB_ROOT_EMAIL=nextflow.vn@gmail.com
GITLAB_ROOT_NAME="NextFlow Administrator"
POSTGRES_USER_GITLAB=nextflow
POSTGRES_PASSWORD_GITLAB=nextflow@2025
GITLAB_DATABASE=nextflow_gitlab

# GitLab Performance
GITLAB_PUMA_WORKERS=4
GITLAB_PUMA_MIN_THREADS=4
GITLAB_PUMA_MAX_THREADS=16
GITLAB_SIDEKIQ_CONCURRENCY=10
GITLAB_BACKUP_KEEP_TIME=604800

# GitLab Ports
GITLAB_HTTP_PORT=8088
GITLAB_HTTPS_PORT=8443
GITLAB_SSH_PORT=2222
GITLAB_REGISTRY_PORT=5050

# GitLab Resource Limits
GITLAB_CPU_LIMIT=4
GITLAB_MEMORY_LIMIT=8G
GITLAB_CPU_RESERVE=2
GITLAB_MEMORY_RESERVE=4G

# GitLab Features
GITLAB_SIGNUP_ENABLED=true
GITLAB_SMTP_ENABLE=false

# Email configuration cho GitLab (Stalwart Mail)
MAIL_SMTP_HOST=stalwart-mail
MAIL_SMTP_PORT=587
MAIL_SMTP_USER=gitlab@nextflow.local
MAIL_SMTP_PASSWORD=changeme123
MAIL_DOMAIN=nextflow.local
MAIL_FROM=gitlab@nextflow.local
MAIL_REPLY_TO=noreply@nextflow.local

# === C·∫§U H√åNH REDIS (SHARED CACHE) ===
REDIS_PASSWORD=nextflow@2025
REDIS_PORT=6379

# === C·∫§U H√åNH REDIS COMMANDER ===
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=nextflow@2025
REDIS_COMMANDER_PORT=6101

# === C·∫§U H√åNH RABBITMQ ===
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=nextflow@2025
RABBITMQ_VHOST=/
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# === C·∫§U H√åNH N8N AUTOMATION ===
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=nextflow@2025
N8N_ENCRYPTION_KEY=f1425288-c670-4302-906c-0ff934793aa0-nextflow-2025
N8N_USER_MANAGEMENT_JWT_SECRET=nextflow-jwt-secret-2025-production-key
N8N_WEBHOOK_URL=http://localhost:8003
N8N_URL=https://n8n.nextflow.vn
N8N_PORT=8003

# === C·∫§U H√åNH FLOWISE AI ===
FLOWISE_USERNAME=nextflow.vn@gmail.com
FLOWISE_PASSWORD=Nextflow@2025
FLOWISE_SECRET_KEY=nextflow-flowise-secret-key-2025
FLOWISE_PORT=8001

# === C·∫§U H√åNH LANGFLOW AI ===
# C·∫•u h√¨nh b·∫£o m·∫≠t
LANGFLOW_SECRET_KEY=nextflow-langflow-secret-key-minimum-32-characters-2025
LANGFLOW_JWT_SECRET=nextflow-langflow-jwt-secret-key-minimum-32-characters-2025
LANGFLOW_SUPERUSER_PASSWORD=nextflow@2025

# C·∫•u h√¨nh server
LANGFLOW_HOST=0.0.0.0
LANGFLOW_PORT=7860
LANGFLOW_WORKERS=1
LANGFLOW_ENV=production

# C·∫•u h√¨nh database (s·ª≠ d·ª•ng hostname thay v√¨ IP)
LANGFLOW_DB=nextflow_langflow
LANGFLOW_DATABASE_URL=postgresql://nextflow:nextflow%402025@postgres:5432/nextflow_langflow

# C·∫•u h√¨nh cache
LANGFLOW_CACHE_TYPE=memory
LANGFLOW_CACHE_SIZE=1000

# C·∫•u h√¨nh logging
LANGFLOW_LOG_LEVEL=INFO
LANGFLOW_LOG_FILE=
LANGFLOW_DISABLE_LOGS=false

# C·∫•u h√¨nh t√≠nh nƒÉng
LANGFLOW_AUTO_LOGIN=false
LANGFLOW_NEW_USER_IS_ACTIVE=true
LANGFLOW_MAX_FILE_SIZE_UPLOAD=100

# C·∫•u h√¨nh th∆∞ m·ª•c (s·ª≠ d·ª•ng th∆∞ m·ª•c c√≥ quy·ªÅn ghi)
LANGFLOW_CONFIG_DIR=/tmp/langflow
LANGFLOW_CACHE_DIR=/tmp/langflow
LANGFLOW_STORE_ENVIRONMENT_VARIABLES=false
LANGFLOW_SAVE_DB_IN_CONFIG_DIR=false

# === C·∫§U H√åNH OPEN WEBUI ===
OPENWEBUI_SECRET_KEY=nextflow-openwebui-secret-key-2025
OPENWEBUI_PORT=8002

# === C·∫§U H√åNH QDRANT VECTOR DATABASE ===
QDRANT_PORT=6333

# === C·∫§U H√åNH MONITORING ===
PROMETHEUS_PORT=9090
GRAFANA_PORT=3030
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=nextflow@2025

# === C·∫§U H√åNH STALWART MAIL SERVER ===
MAIL_HOSTNAME=mail.nextflow.vn
MAIL_ADMIN_USER=admin
MAIL_ADMIN_PASSWORD=nextflow@2025
MAIL_DB_NAME=nextflow_stalwart_mail
MAIL_DB_USER=nextflow_stalwart
MAIL_DB_PASSWORD=nextflow@2025
MAIL_LOG_LEVEL=info

# Port mapping cho Mail Server (ƒë√£ chu·∫©n h√≥a)
MAIL_SMTP_PORT=25
MAIL_SUBMISSION_PORT=587
MAIL_SUBMISSIONS_PORT=465
MAIL_IMAP_PORT=143
MAIL_IMAPS_PORT=993
MAIL_POP3_PORT=110
MAIL_POP3S_PORT=995
MAIL_ADMIN_PORT=8005
MAIL_SIEVE_PORT=4190

# === C·∫§U H√åNH WORDPRESS ===
WORDPRESS_DB_HOST=mariadb
WORDPRESS_DB_NAME=nextflow_wordpress
WORDPRESS_DB_USER=root
WORDPRESS_DB_PASSWORD=nextflow@2025
WORDPRESS_TABLE_PREFIX=nf_
WORDPRESS_PORT=8080

# === EXTERNAL URLs (PRODUCTION) ===
API_URL=https://api.nextflow.vn
FRONTEND_URL=https://app.nextflow.vn
DOCS_URL=https://docs.nextflow.vn
N8N_URL=https://n8n.nextflow.vn
FLOWISE_URL=https://flowise.nextflow.vn
LANGFLOW_URL=https://langflow.nextflow.vn
OPEN_WEBUI_URL=https://openai.nextflow.vn
GRAFANA_URL=https://monitoring.nextflow.vn

# === CLOUDFLARE TUNNEL CONFIGURATION ===
# Tunnel IDs (gi·ªØ nguy√™n t·ª´ c·∫•u h√¨nh hi·ªán t·∫°i)
CLOUDFLARE_TUNNEL_ID=a64d6b64-22f0-4e13-b832-13026853c657

# Tunnel Tokens (gi·ªØ nguy√™n t·ª´ c·∫•u h√¨nh hi·ªán t·∫°i)
CLOUDFLARE_TUNNEL_TOKEN=eyJhIjoiNTJjM2QxNTUzZDA3NDBiOWE4MDMzZmYxMzdjZTMyNmUiLCJzIjoiTURGaE9EVTNNV0l0TnpNeVppMDBaak5tTFdJeFpqUXRZemMyTURJek4yVmtNalZqIiwidCI6ImE2NGQ2YjY0LTIyZjAtNGUxMy1iODMyLTEzMDI2ODUzYzY1NyJ9
# === PRODUCTION FEATURES ===
DEBUG=false
LOG_LEVEL=info
ENABLE_CORS=false
ENABLE_SWAGGER=false

# === PRODUCTION DATABASE SETTINGS ===
DB_LOGGING=false
DB_SYNCHRONIZE=false
DB_DROP_SCHEMA=false

# === PRODUCTION CACHE SETTINGS ===
CACHE_TTL=3600
CACHE_MAX_ITEMS=10000

# === PRODUCTION FILE UPLOAD ===
MAX_FILE_SIZE=500MB
UPLOAD_PATH=./uploads/production

# === PRODUCTION WEBHOOK ===
WEBHOOK_SECRET=nextflow@2025
WEBHOOK_PORT=9000

# === PRODUCTION SECURITY ===
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# === PRODUCTION BACKUP ===
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# === TIMEZONE CONFIGURATION ===
TZ=Asia/Ho_Chi_Minh
TIMEZONE=Asia/Ho_Chi_Minh
