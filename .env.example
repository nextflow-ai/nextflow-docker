# ============================================================================
# NEXTFLOW DOCKER ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy file này thành .env và điều chỉnh các giá trị theo môi trường của bạn
# Tất cả các giá trị dưới đây đã được tối ưu hóa cho production environment

# ============================================================================
# CẤU HÌNH CƠ SỞ DỮ LIỆU CHÍNH (POSTGRESQL)
# ============================================================================
POSTGRES_USER=nextflow
POSTGRES_PASSWORD=nextflow@2025
POSTGRES_DB=nextflow
POSTGRES_MULTIPLE_DATABASES=nextflow_n8n,nextflow_gitlab,langflow_db,stalwart_mail

# Cấu hình PostgreSQL cho GitLab
POSTGRES_USER_GITLAB=nextflow
POSTGRES_PASSWORD_GITLAB=nextflow@2025

# ============================================================================
# CẤU HÌNH REDIS CACHE
# ============================================================================
REDIS_PASSWORD=nextflow@2025
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=nextflow@2025

# ============================================================================
# CẤU HÌNH N8N AUTOMATION PLATFORM
# ============================================================================
N8N_ENCRYPTION_KEY=your-super-secret-encryption-key-minimum-32-characters
N8N_USER_MANAGEMENT_JWT_SECRET=your-jwt-secret-key-minimum-32-characters
N8N_URL=https://n8n.nextflow.vn

# ============================================================================
# CẤU HÌNH AI SERVICES
# ============================================================================

# Flowise Configuration
FLOWISE_USERNAME=admin
FLOWISE_PASSWORD=nextflow@2025
FLOWISE_SECRET_KEY=your-flowise-secret-key-minimum-32-characters

# Open WebUI Configuration
OPENWEBUI_SECRET_KEY=your-openwebui-secret-key-minimum-32-characters

# Langflow Configuration
LANGFLOW_SECRET_KEY=your-langflow-secret-key-minimum-32-characters
LANGFLOW_JWT_SECRET=your-langflow-jwt-secret-minimum-32-characters
LANGFLOW_SUPERUSER_PASSWORD=admin123

# Qdrant Vector Database
QDRANT_API_KEY=your-qdrant-api-key-for-security

# ============================================================================
# CẤU HÌNH MONITORING & OBSERVABILITY
# ============================================================================

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=nextflow@2025

# ============================================================================
# CẤU HÌNH MESSAGE QUEUE
# ============================================================================

# RabbitMQ Configuration
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=nextflow@2025
RABBITMQ_VHOST=/

# ============================================================================
# CẤU HÌNH MAIL SERVER (STALWART)
# ============================================================================

# Basic Mail Configuration
MAIL_HOSTNAME=mail.nextflow.vn
MAIL_ADMIN_USER=admin
MAIL_ADMIN_PASSWORD=changeme123
MAIL_LOG_LEVEL=info

# Database Configuration for Mail
MAIL_DB_NAME=stalwart_mail
MAIL_DB_USER=stalwart
MAIL_DB_PASSWORD=stalwart123

# Port Configuration (Tối ưu hóa)
MAIL_SMTP_PORT=25
MAIL_SUBMISSION_PORT=587
MAIL_SUBMISSIONS_PORT=465
MAIL_IMAP_PORT=143
MAIL_IMAPS_PORT=993
MAIL_POP3_PORT=110
MAIL_POP3S_PORT=995
MAIL_ADMIN_PORT=8005
MAIL_SIEVE_PORT=4190

# ============================================================================
# CẤU HÌNH GITLAB (SOURCE CODE MANAGEMENT)
# ============================================================================

# GitLab Root Password
GITLAB_ROOT_PASSWORD=nextflow@2025

# ============================================================================
# CẤU HÌNH BẢO MẬT NÂNG CAO
# ============================================================================

# JWT Secrets (Tạo random keys cho production)
# Sử dụng: openssl rand -hex 32
JWT_SECRET_KEY=your-global-jwt-secret-key-minimum-32-characters
ENCRYPTION_KEY=your-global-encryption-key-minimum-32-characters

# API Keys cho các dịch vụ bên ngoài
OPENAI_API_KEY=your-openai-api-key-if-needed
ANTHROPIC_API_KEY=your-anthropic-api-key-if-needed

# ============================================================================
# CẤU HÌNH DOMAIN VÀ NETWORKING
# ============================================================================

# Public Domain Configuration
DOMAIN_NAME=nextflow.vn
WORDPRESS_DOMAIN=nextflow.vn
N8N_DOMAIN=n8n.nextflow.vn
FLOWISE_DOMAIN=flowise.nextflow.vn
GRAFANA_DOMAIN=grafana.nextflow.vn
GITLAB_DOMAIN=gitlab.nextflow.vn
MAIL_DOMAIN=mail.nextflow.vn

# ============================================================================
# CẤU HÌNH BACKUP VÀ MAINTENANCE
# ============================================================================

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE=0 2 * * *
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# ============================================================================
# CẤU HÌNH PERFORMANCE TUNING
# ============================================================================

# Resource Limits (Đã được tối ưu hóa)
MAX_MEMORY_USAGE=16G
MAX_CPU_CORES=8

# Database Performance
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=2GB

# Redis Performance
REDIS_MAXMEMORY=1GB
REDIS_MAXMEMORY_POLICY=allkeys-lru

# ============================================================================
# CẤU HÌNH LOGGING VÀ MONITORING
# ============================================================================

# Log Levels
GLOBAL_LOG_LEVEL=INFO
DEBUG_MODE=false

# Monitoring Configuration
METRICS_ENABLED=true
TRACING_ENABLED=true
HEALTH_CHECK_INTERVAL=30s

# ============================================================================
# CẤU HÌNH MÔI TRƯỜNG
# ============================================================================

# Environment Type
ENVIRONMENT=production
DEBUG=false
TIMEZONE=Asia/Ho_Chi_Minh

# ============================================================================
# GHI CHÚ QUAN TRỌNG
# ============================================================================
# 1. Thay đổi TẤT CẢ mật khẩu mặc định trước khi triển khai production
# 2. Sử dụng secrets management trong môi trường production thực tế
# 3. Backup file .env này và lưu trữ an toàn
# 4. Không commit file .env vào git repository
# 5. Kiểm tra và cập nhật các API keys định kỳ
# 6. Sử dụng HTTPS cho tất cả các dịch vụ public
# 7. Cấu hình firewall và network security groups phù hợp
# 8. Monitoring và alerting cho tất cả các dịch vụ quan trọng
# ============================================================================
